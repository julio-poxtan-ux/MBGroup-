/* ============ Base ============ */
html,body{height:100%}
body{
  font-family: var(--font-sans);
  background: radial-gradient(1200px 500px at 20% -10%, rgba(0,161,224,.28), transparent 55%),
              radial-gradient(900px 420px at 80% 0%, rgba(28,115,184,.26), transparent 55%),
              linear-gradient(180deg, var(--color-base-850) 0%, var(--color-base-900) 60%, #000 100%);
  color: var(--color-text-1);
  padding-top: var(--navbar-height);
}
a{color:inherit}
small,.text-muted{color:var(--color-text-3)!important}
::selection{background: rgba(0,161,224,.25)}

/* Improve Bootstrap focus */
:focus-visible{
  outline: none;
  box-shadow: var(--focus-ring);
  border-radius: 10px;
}

/* ============ Helpers ============ */
.mb-container{
  max-width: var(--layout-max);
}
.mb-section{
  padding: var(--space-7) 0;
}
.mb-section-title{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap: var(--space-4);
  margin-bottom: var(--space-4);
}
.mb-section-title h2{
  font-size: var(--text-h2);
  letter-spacing:.08em;
  text-transform: uppercase;
  margin:0;
}
.mb-subtitle{
  margin:0;
  font-size: var(--text-small);
  color: var(--color-text-3);
}

/* ============ Navbar ============ */
.mb-navbar{
  height: var(--navbar-height);
  background: linear-gradient(180deg, rgba(14, 22, 36, .92) 0%, rgba(12, 18, 30, .70) 100%);
  border-bottom: var(--border-1);
  backdrop-filter: blur(12px);
}
.mb-brand{
  width: 38px;
  height: 38px;
  border-radius: 12px;
  display:inline-grid;
  place-items:center;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.10);
}
.mb-search{
  width: min(560px, 70vw);
}
.mb-search .form-control{
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 999px;
  color: var(--color-text-1);
  padding: .6rem 1rem .6rem 2.6rem;
}
.mb-search .form-control::placeholder{color: var(--input-placeholder)}
.mb-search .bi-search{
  position:absolute;
  left: 14px;
  top: 50%;
  transform: translateY(-50%);
  color: rgba(242,246,255,.55);
}
.mb-nav-icon{
  width: 40px;
  height: 40px;
  border-radius: 999px;
  display:grid;
  place-items:center;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.10);
}
.mb-userchip{
  display:flex;
  align-items:center;
  gap:.65rem;
  padding:.25rem .25rem .25rem .65rem;
  border-radius: 999px;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.10);
}
.mb-userchip img{
  width: 34px;
  height: 34px;
  object-fit: cover;
  border-radius: 999px;
  border: 2px solid rgba(0,161,224,.55);
}
.mb-userchip .name{font-size:.9rem; font-weight: var(--weight-semibold); line-height:1.1}
.mb-userchip .meta{font-size:.72rem; color: var(--color-text-3); line-height:1.1}

/* ============ Hero ============ */
.mb-hero{
  border-radius: var(--radius-xl);
  background: radial-gradient(600px 260px at 50% -15%, rgba(0,161,224,.35), transparent 70%),
              linear-gradient(180deg, rgba(15, 23, 38, .55) 0%, rgba(7,11,18,.85) 100%);
  border: var(--border-1);
  box-shadow: var(--shadow-1);
  padding: var(--space-7) var(--space-7);
}
.mb-hero h1{
  font-size: var(--text-h1);
  margin:0;
  font-weight: var(--weight-bold);
  letter-spacing: -0.02em;
}
.mb-hero h1 .accent{color: var(--color-accent)}
.mb-hero p{
  margin: .4rem 0 0;
  color: var(--color-text-2);
}
.mb-kpis{
  margin-top: var(--space-5);
  display:flex;
  gap: var(--space-4);
  flex-wrap:wrap;
  justify-content:center;
}
.mb-kpi{
  border-radius: 14px;
  padding: .55rem .9rem;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.10);
  display:flex;
  gap:.6rem;
  align-items:center;
  min-width: 178px;
}
.mb-kpi .label{font-size:.7rem; color: var(--color-text-3); text-transform: uppercase; letter-spacing:.08em; margin:0}
.mb-kpi .value{font-size:.9rem; margin:0; font-weight: var(--weight-semibold)}
.mb-kpi .icon{
  width: 28px;height:28px;border-radius: 10px;
  display:grid;place-items:center;
  background: rgba(0,161,224,.12);
  border: 1px solid rgba(0,161,224,.28);
}

/* ============ Buttons (contract: mb-button-primary) ============ */
.btn.mb-button-primary,
.mb-button-primary{
  --bs-btn-padding-y: var(--btn-padding-y);
  --bs-btn-padding-x: var(--btn-padding-x);
  --bs-btn-border-radius: var(--btn-radius);
  --bs-btn-font-size: var(--btn-font-size);
  --bs-btn-font-weight: var(--btn-font-weight);
  --bs-btn-bg: transparent;
  --bs-btn-color: var(--btn-primary-color);
  --bs-btn-border-color: var(--btn-primary-border);
  --bs-btn-hover-color: var(--btn-primary-color);
  --bs-btn-hover-border-color: rgba(255,255,255,.18);
  --bs-btn-active-border-color: rgba(255,255,255,.22);
  background: var(--btn-primary-bg);
  border: 1px solid var(--btn-primary-border);
  box-shadow: 0 10px 22px rgba(0,161,224,.12);
}
.btn.mb-button-secondary,
.mb-button-secondary{
  --bs-btn-padding-y: var(--btn-padding-y);
  --bs-btn-padding-x: var(--btn-padding-x);
  --bs-btn-border-radius: var(--btn-radius);
  --bs-btn-font-size: var(--btn-font-size);
  --bs-btn-font-weight: var(--btn-font-weight);
  --bs-btn-color: var(--btn-secondary-color);
  --bs-btn-bg: var(--btn-secondary-bg);
  --bs-btn-border-color: var(--btn-secondary-border);
  --bs-btn-hover-bg: rgba(255,255,255,.08);
  --bs-btn-hover-border-color: rgba(255,255,255,.18);
  --bs-btn-active-bg: rgba(255,255,255,.10);
  --bs-btn-active-border-color: rgba(255,255,255,.22);
}
.btn.mb-button-ghost{
  --bs-btn-padding-y: .35rem;
  --bs-btn-padding-x: .65rem;
  --bs-btn-border-radius: 999px;
  --bs-btn-color: var(--color-text-2);
  --bs-btn-bg: transparent;
  --bs-btn-border-color: transparent;
  --bs-btn-hover-bg: rgba(255,255,255,.06);
  --bs-btn-hover-border-color: rgba(255,255,255,.10);
}

/* ============ Cards ============ */
.mb-card{
  border-radius: var(--card-radius);
  border: var(--card-border);
  background: var(--card-bg);
  box-shadow: var(--shadow-1);
  overflow:hidden;
}
.mb-card:hover{
  border-color: rgba(122,184,235,.35);
}
.mb-card.is-active{
  border: 1px solid rgba(0,161,224,.55);
  box-shadow: 0 0 0 1px rgba(0,161,224,.18), var(--shadow-2);
}
.mb-card .mb-card-body{padding: var(--card-padding)}
.mb-chip{
  display:inline-flex;
  align-items:center;
  gap:.35rem;
  padding:.35rem .65rem;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.05);
  color: var(--color-text-2);
  font-size: .78rem;
  line-height:1;
}
.mb-chip .bi{font-size:.9rem}
.mb-chip--blue{
  border-color: rgba(0,161,224,.20);
  background: rgba(0,161,224,.12);
  color: rgba(170, 232, 255, .95);
}
.mb-chip--new{
  background: rgba(0,161,224,.22);
  border-color: rgba(0,161,224,.26);
  color: #DDF7FF;
}

/* Featured card */
.mb-featured-cover{
  height: 180px;
  border-radius: calc(var(--card-radius) - 10px);
  background: radial-gradient(420px 220px at 35% 30%, rgba(0,161,224,.22), transparent 60%),
              linear-gradient(180deg, rgba(255,255,255,.06) 0%, rgba(255,255,255,.02) 100%);
  overflow:hidden;
  position:relative;
}
.mb-featured-cover img{
  width:100%;
  height:100%;
  object-fit: cover;
  filter: saturate(0.95) contrast(1.02);
}
.mb-badge{
  position:absolute;
  right: 14px;
  top: 14px;
  padding: .35rem .7rem;
  border-radius: 999px;
  background: rgba(239,68,68,.14);
  border: 1px solid rgba(239,68,68,.28);
  color: #FFB5B5;
  font-size: .7rem;
  letter-spacing:.08em;
  text-transform: uppercase;
  font-weight: var(--weight-semibold);
}
.mb-title{
  font-size: 1.35rem;
  margin: .85rem 0 .45rem;
  font-weight: var(--weight-bold);
  letter-spacing:-0.02em;
}
.mb-desc{
  color: var(--color-text-3);
  margin:0;
  font-size: .92rem;
}

/* Library (live) card */
.mb-library-cover{
  height: 220px;
  border-radius: calc(var(--card-radius) - 10px);
  overflow:hidden;
  position:relative;
}
.mb-library-cover img{
  width:100%;height:100%;object-fit: cover;
}
.mb-live-pill{
  position:absolute;
  right: 12px;
  top: 12px;
  padding: .35rem .65rem;
  border-radius: 999px;
  background: rgba(255, 205, 205, .86);
  color: #6B0C0C;
  font-size:.72rem;
  letter-spacing:.08em;
  text-transform: uppercase;
  border: 1px solid rgba(255,255,255,.55);
}
.mb-progress-ring{
  width: 52px;
  height: 52px;
  border-radius: 999px;
  background: rgba(6, 10, 18, .75);
  border: 2px solid rgba(0,161,224,.80);
  display:grid;
  place-items:center;
  font-size: .78rem;
  position:absolute;
  left: 14px;
  bottom: -26px;
  z-index: 2;
}
.mb-meta-kicker{
  font-size:.78rem;
  letter-spacing:.10em;
  text-transform: uppercase;
  color: rgba(0,161,224,.85);
  font-weight: var(--weight-semibold);
}

/* Small tutorial card */
.mb-mini{
  border-radius: var(--radius-lg);
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  overflow:hidden;
  min-width: 280px;
}
.mb-mini img{width:100%; height: 110px; object-fit: cover}
.mb-mini .body{padding: .85rem 1rem}
.mb-mini .tag{
  font-size:.65rem;
  letter-spacing:.10em;
  text-transform:uppercase;
  color: rgba(0,161,224,.9);
}

/* Banner */
.mb-banner{
  border-radius: var(--radius-lg);
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.05);
  padding: 1rem 1.25rem;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 1rem;
}
.mb-banner .left{
  display:flex;
  align-items:center;
  gap: .9rem;
}
.mb-banner .icon{
  width: 42px;height:42px;border-radius:999px;
  display:grid;place-items:center;
  background: rgba(0,161,224,.14);
  border: 1px solid rgba(0,161,224,.24);
}
.mb-banner h3{
  margin:0;
  font-size: .95rem;
  font-weight: var(--weight-semibold);
}
.mb-banner p{margin:0; font-size:.82rem; color: var(--color-text-3)}

/* Carousel row */
.mb-scroll-row{
  display:flex;
  gap: var(--space-4);
  overflow:auto;
  scroll-snap-type:x mandatory;
  padding-bottom: .25rem;
}
.mb-scroll-row > *{scroll-snap-align:start}
.mb-scroll-row::-webkit-scrollbar{height:8px}
.mb-scroll-row::-webkit-scrollbar-thumb{background: rgba(255,255,255,.10); border-radius: 999px}
.mb-scroll-controls{
  display:flex;
  gap: .5rem;
}
.mb-icon-btn{
  width: 36px;height:36px;border-radius: 999px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  color: rgba(242,246,255,.75);
}
.mb-icon-btn:hover{background: rgba(255,255,255,.06)}
.mb-icon-btn:active{transform: translateY(1px)}

/* ============ Forms ============ */
.form-control.mb-input{
  background: var(--input-bg);
  border: 1px solid var(--input-border);
  border-radius: var(--input-radius);
  color: var(--input-color);
  padding: var(--input-padding-y) var(--input-padding-x);
}
.form-control.mb-input::placeholder{color: var(--input-placeholder)}
.form-control.mb-input:focus{
  border-color: rgba(0,161,224,.55);
  box-shadow: var(--focus-ring);
}
.mb-form-label{
  font-size:.82rem;
  color: var(--color-text-3);
}
.mb-panel{
  border-radius: var(--radius-xl);
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
}
.mb-panel-header{
  padding: 1.05rem 1.25rem;
  border-bottom: 1px solid rgba(255,255,255,.08);
  display:flex;
  align-items:center;
  gap:.75rem;
}
.mb-panel-body{padding: 1.25rem}
.mb-avatar{
  width: 64px;height:64px;border-radius:999px;
  border: 3px solid rgba(0,161,224,.60);
  object-fit: cover;
}
.mb-switch{
  width: 52px;
  height: 28px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
  background: var(--switch-bg);
  position:relative;
  cursor:pointer;
  transition: .2s ease;
}
.mb-switch::after{
  content:"";
  position:absolute;
  top: 3px; left: 3px;
  width: 22px; height: 22px;
  border-radius: 999px;
  background: rgba(255,255,255,.82);
  transition: .2s ease;
}
.mb-switch[aria-checked="true"]{
  background: var(--switch-on);
  border-color: rgba(0,161,224,.30);
}
.mb-switch[aria-checked="true"]::after{
  left: calc(100% - 25px);
}

/* ============ Course layout ============ */
.mb-video{
  border-radius: var(--radius-xl);
  overflow:hidden;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  position:relative;
}
.mb-video img{width:100%; height: auto; display:block}
.mb-video .play{
  width: 56px;height:56px;border-radius: 999px;
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.18);
  display:grid; place-items:center;
  position:absolute;
  left: 50%; top: 50%;
  transform: translate(-50%,-50%);
  backdrop-filter: blur(10px);
}
.mb-video .play i{font-size: 1.4rem; color: rgba(242,246,255,.9)}
.mb-course-actions{
  display:flex;
  align-items:center;
  gap: .6rem;
  flex-wrap:wrap;
}
.mb-course-meta-card{
  border-radius: var(--radius-xl);
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  padding: 1.25rem;
  height:100%;
}
.mb-progress-bar{
  height: 8px;
  border-radius: 999px;
  background: rgba(255,255,255,.08);
  overflow:hidden;
}
.mb-progress-bar > span{
  display:block;
  height:100%;
  width: 20%;
  background: var(--btn-primary-bg);
  border-radius: 999px;
}
.mb-lesson{
  border-radius: var(--radius-lg);
  padding: .9rem 1rem;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: .75rem;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(255,255,255,.02);
}
.mb-lesson.is-active{
  border-color: rgba(0,161,224,.40);
  background: rgba(0,161,224,.10);
}
.mb-lesson .left{
  display:flex;align-items:center;gap:.75rem;min-width:0
}
.mb-lesson .title{
  margin:0;
  font-size:.92rem;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.mb-lesson .time{
  font-size:.75rem;color: var(--color-text-3); margin:0
}
.mb-lesson .icon{
  width: 30px;height:30px;border-radius: 999px;
  display:grid; place-items:center;
  background: rgba(0,161,224,.12);
  border: 1px solid rgba(0,161,224,.22);
}

/* ============ Footer ============ */
.mb-footer{
  border-top: 1px solid rgba(255,255,255,.08);
  padding: 1.25rem 0;
  color: var(--color-text-3);
  font-size: .85rem;
}

/* ============ Responsive tweaks ============ */
@media (max-width: 991.98px){
  .mb-hero{padding: var(--space-6) var(--space-5)}
  .mb-search{width: min(520px, 55vw)}
}
@media (max-width: 575.98px){
  body{padding-top: 78px}
  .mb-search{display:none}
  .mb-hero{padding: 1.4rem 1.1rem}
  .mb-kpi{min-width: 100%}
}
